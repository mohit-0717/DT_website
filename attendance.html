<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Attendance Validator</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; text-align: center; }
    #scanner-section, #result-section { display: none; margin-top: 20px; }
    textarea { width: 100%; height: 100px; }
    #result { font-weight: bold; margin-top: 20px; color: green; }
    #loginMsg { color: red; }
  </style>
</head>
<body>

  <h2>Organizer Login</h2>
  <div id="login-section">
    <input id="loginId" type="text" placeholder="ID: Organizer" /><br><br>
    <input id="loginPass" type="password" placeholder="Password" /><br><br>
    <button onclick="checkLogin()">Login</button>
    <div id="loginMsg"></div>
  </div>

  <div id="scanner-section">
    <h3>Paste Scanned QR JSON Here</h3>
    <textarea id="qrInput" placeholder='Paste scanned QR JSON text here'></textarea><br>
    <button onclick="validateQR()">Validate QR</button>
  </div>

  <div id="result-section">
    <h3>Validation Result</h3>
    <div id="result"></div>
  </div>

<script>
  function checkLogin() {
    const id = document.getElementById("loginId").value.trim();
    const pass = document.getElementById("loginPass").value.trim();
    const loginMsg = document.getElementById("loginMsg");

    if(id === "Organizer" && pass === "123456") {
      loginMsg.innerText = "";
      document.getElementById("login-section").style.display = "none";
      document.getElementById("scanner-section").style.display = "block";
    } else {
      loginMsg.innerText = "Invalid ID or Password!";
    }
  }

  function validateQR() {
    const qrText = document.getElementById("qrInput").value.trim();
    const resultDiv = document.getElementById("result");
    const resultSection = document.getElementById("result-section");

    try {
      const data = JSON.parse(qrText);
      resultDiv.innerText = `QR is valid for the event — "${data.event}" of the participant — "${data.name}"`;
    } catch(e) {
      resultDiv.innerText = "Invalid QR JSON data!";
    }

    resultSection.style.display = "block";
  }
</script>

</body>
</html>
